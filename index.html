<link href="images/favicon.png" rel="icon" type="image/png" />
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Lexer - Developers</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","ruby"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://lexer.io'>Find out more about Lexer</a></li>
            <li><a href='http://github.com/tripit/slate'>(Docs Powered by Slate)</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the Lexer API documentation.</p>

<p>We currently offer the following APIs to our clients:</p>

<ul>
<li><p><strong>Content</strong>: read social and news content.</p></li>
<li><p><strong>Activity</strong>: read customer service team performance metrics.</p></li>
<li><p><strong>Chatbot</strong>: integrate your chatbot into Engage.</p></li>
<li><p><strong>Identity</strong>: read and write Identity data.</p></li>
</ul>

<p>All of our APIs communicate via HTTPS and JSON data.</p>

<h2 id="fair-use">Fair Use</h2>

<p>Lexer operates a fair use policy on all of its APIs.</p>

<p>Refer to your project&rsquo;s terms of service for details on rate limiting, performance limitations, maintenance windows and SLAs.</p>

<h2 id="support">Support</h2>

<p>Our team are here to help you build an integration with any of our products, so please don&rsquo;t hesitate to reach out! Get in contact via live chat within the Hub or <a href="mailto:support@lexer.io">email</a>.</p>

          <h1 id="content">Content</h1>

<p>Our Content API allows you to access social and news content in a simple JSON format. Your queries are defined by saved dives within Listen, and your endpoints are retrieved from the Command charts they are connected to. Once you have a chart displaying in Command, simply click on the small link button in the top right corner.</p>

<p>Read our <a href="https://learn.lexer.io/export-and-report/command/command-screens">help article</a> for details on building a Command screen or contact support via live chat or at <a href="mailto:support@lexer.io">support@lexer.io</a>.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
<li><strong>Listen</strong>: to create your saved dives that define your search.</li>
<li><strong>Command</strong>: to create the charts using your saved dives.</li>
</ul>

<h2 id="configuration">Configuration</h2>

<p>Unlike traditional APIs, your requests for the Content API must be created from our live dashboard feature Command. Your Command screen allows you to test and visualise the results before retrieving the API endpoint. Once you&rsquo;re happy with the results, simply click the link button on the top right corner of the chart and your request will be provided in the URL.</p>

<h3 id="endpoints">Endpoints</h3>
<pre class="highlight plaintext"><code>https://clients.lexer.io/api/clients/{account_id}/screens/{screen_id}/charts/{chart_id}/result?client_token={client token}
</code></pre>

<p>Retrieved from each chart in your screen, endpoints look like the example displayed to the right. They always include the account id, screen id, chart id, and your client token. Note that Command screens are designed for public use and can be accessed without authentication.</p>

<p>All of your requests should match this format.</p>

<h3 id="parameters">Parameters</h3>
<pre class="highlight plaintext"><code>;date_ending=2018-02-21
</code></pre>

<p>Requests can be modified with two paramaters to adjust the date range or filter for specific terms.</p>

<p>Append date_ending to adjust the ending date of your query. This will adjust the time window of your chart to finish at this day or time.</p>
<pre class="highlight plaintext"><code>;terms=lexer
;terms=lexer%20OR%20data
</code></pre>

<p>Append terms to filter your saved dive even further. Here we&rsquo;re filtering for mentions of <em>Lexer OR Data</em>. Tip: it&rsquo;s easier to define this from your saved dive within Listen!</p>

<h2 id="summary-metrics">Summary Metrics</h2>

<p>Here we&rsquo;ll describe the summary bar and live stream volume charts.</p>

<h3 id="summary-bar">Summary Bar</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18041857</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-13T02:04:04Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"mentions"</span><span class="p">:</span><span class="w"> </span><span class="mi">71200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sources"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"authors"</span><span class="p">:</span><span class="w"> </span><span class="mi">47134</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reach"</span><span class="p">:</span><span class="w"> </span><span class="mi">309297204</span><span class="p">,</span><span class="w">
    </span><span class="s2">"average_engagements"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5105868375</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The summary bar displays the headline metrics for your saved dive. Each of the individual big number charts (i.e. Matches, Authors) uses the same query and will return all of the results.</p>

<ul>
<li><p><code class="prettyprint">mentions</code>: the total number of objects matching your query.</p></li>
<li><p><code class="prettyprint">sources</code>: where the content has come from i.e. Twitter.</p></li>
<li><p><code class="prettyprint">authors</code>: unique authors that have published this content.</p></li>
<li><p><code class="prettyprint">reach</code>: sum of the followers for each author.</p></li>
<li><p><code class="prettyprint">average_engagements</code>: mentions divided by authors.</p></li>
</ul>

<p><img alt="Summary Bar" src="images/content/summary_bar.png" /></p>

<h3 id="live-stream-volume">Live Stream Volume</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17633606</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-22T03:14:51Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Nintendo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"1519185600000"</span><span class="p">:</span><span class="w"> </span><span class="mi">1459</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1519189200000"</span><span class="p">:</span><span class="w"> </span><span class="mi">1284</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1519192800000"</span><span class="p">:</span><span class="w"> </span><span class="mi">1243</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1519196400000"</span><span class="p">:</span><span class="w"> </span><span class="mi">1123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1519200000000"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1519203600000"</span><span class="p">:</span><span class="w"> </span><span class="mi">1295</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1519268400000"</span><span class="p">:</span><span class="w"> </span><span class="mi">364</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">

      </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"current"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"mentions"</span><span class="p">:</span><span class="w"> </span><span class="mi">39564</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5448</span><span class="p">,</span><span class="w">
      </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#ed1941"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The Live Stream Volume chart will return a data object for each filter presented in the chart. In this example we&rsquo;re just looking at the Nintendo filter. This object contains the corresponding count of mentions for each time interval.</p>

<p>Also included in this response is the total number of mentions and various other information to render this in the chart interface.</p>

<p>Our volume charts bucket counts into time intervals based on the period covered in the report. Here is a summary of the query ranges and corresponding time intervals returned.</p>

<ul>
<li><p><code class="prettyprint">&lt;2 days</code>: results are grouped into 1 hour intervals.</p></li>
<li><p><code class="prettyprint">2-3 days</code>: results are grouped into 3 hour intervals.</p></li>
<li><p><code class="prettyprint">7 days</code>: results are grouped into 12 hour intervals.</p></li>
<li><p><code class="prettyprint">8+ days</code>: results are grouped into 1 day intervals.</p></li>
</ul>

<p>Note: all of our volume over time charts are returned using unix time.</p>

<p><img alt="Live Stream Chart" src="images/content/livestreamvolume_chart.png" /></p>

<h2 id="mentions">Mentions</h2>

<p>Let&rsquo;s take a closer look at the mention objects that are displayed in the Recent Mentions, Influential Mentions, and Recent Media charts. Each of these charts returns the top 100 hits for the query, allowing you to recreate a display feed of content in your app.</p>

<h3 id="recent-&amp;-influential-mentions">Recent &amp; Influential Mentions</h3>

<p><img alt="Tweet Example" src="images/content/mention_tweet_2.png" /></p>

<p>Here we&rsquo;ll review a Tweet from the @camplexer account. Let&rsquo;s take a closer look in the table below. Most of the data you need to recreate a mention is contained within the <em>data</em> object. The <em>original</em> object is what we receive from the source, and will give you access to the media content (image or video) attached to the object. We suggest referring to the Twitter, Facebook or Instagram API documentation for more on the structure of the results.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ahead of #eTailWest, we’ve launched our 2018 Data Culture Study. This annual study benchmarks the opportunities in customer data and the actions you can take to capitalize on them: http://lexer.link/2CccBM0 ⚡ https://t.co/BG1n6IpJka"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"geography"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"guessed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AU/VIC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"point"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">-37.814107</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lon"</span><span class="p">:</span><span class="w"> </span><span class="mf">144.96328</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"mentions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"t.co/BG1n6IpJka"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lexer.link/2CccBM0"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"mentions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"authors"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"author_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"terms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"benchmarks"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"capitalize"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"opportunities"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ahead"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"culture"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"actions"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"#etailwest"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"customer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"annual"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"study"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"launched"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"image"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"link"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter_219052087"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fullname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lexer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"camplexer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://twitter.com/camplexer/"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Put data to work to genuinely understand and engage customers."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pbs.twimg.com/profile_images/595397359808356352/ULzphDZ__normal.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"influence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.506</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reach"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"inbound"</span><span class="p">:</span><span class="w"> </span><span class="mi">1081</span><span class="p">,</span><span class="w">
        </span><span class="s2">"outbound"</span><span class="p">:</span><span class="w"> </span><span class="mi">942</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"engagements"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"likes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"shares"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"engagement_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://twitter.com/camplexer/statuses/967621409668177920"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"967621409668177920"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"published"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-25T04:44:56Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"processed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-25T04:44:57Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter_967621409668177920"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>content</td>
<td>Body of the message.</td>
</tr>
<tr>
<td>geography.accuracy</td>
<td>Supplied if specifically provided with the content. Guessed if inferred from the account settings. Uknown if no location data is provided.</td>
</tr>
<tr>
<td>geography.code</td>
<td>Country code provided for this location.</td>
</tr>
<tr>
<td>geography.point</td>
<td>Latitude and longitude points.</td>
</tr>
<tr>
<td>mentions.links</td>
<td>Array of links in the content.</td>
</tr>
<tr>
<td>mentions.mentions</td>
<td>Objects mentioned i.e. a retweet.</td>
</tr>
<tr>
<td>mentions.authors</td>
<td>Authors tagged in the content.</td>
</tr>
<tr>
<td>mentions.author_ids</td>
<td>IDs of the authors tagged in the content.</td>
</tr>
<tr>
<td>terms</td>
<td>Tokenized words extracted from the content.</td>
</tr>
<tr>
<td>source.name</td>
<td>Domain name for the source.</td>
</tr>
<tr>
<td>source.group</td>
<td>Facebook or Instagram account the content lives on. Empty for Twitter.</td>
</tr>
<tr>
<td>source.id</td>
<td>Numeric ID associated with the source type. See Sources &gt; Source Types for more information.</td>
</tr>
<tr>
<td>source.type</td>
<td>Image, video, link, text. Image and video are mutually exclusive. An object may be type video,link or image,link. Text indicates no media or links.</td>
</tr>
<tr>
<td>author.id</td>
<td>Author ID appended with the network prefix.</td>
</tr>
<tr>
<td>author.fullname</td>
<td>Display name of the author.</td>
</tr>
<tr>
<td>author.username</td>
<td>Username of the author i.e Twitter handle.</td>
</tr>
<tr>
<td>author.link</td>
<td>URL to the author&rsquo;s account.</td>
</tr>
<tr>
<td>author.bio</td>
<td>Bio description for the author.</td>
</tr>
<tr>
<td>author.avatar</td>
<td>URL to the author&rsquo;s avatar image.</td>
</tr>
<tr>
<td>author.influence</td>
<td>Lexer calculated influence score.</td>
</tr>
<tr>
<td>author.reach.inbound</td>
<td>Count of users this account is following.</td>
</tr>
<tr>
<td>author.reach.outbound</td>
<td>Count of followers.</td>
</tr>
<tr>
<td>engagements</td>
<td>Unused. We do not collect engagement metrics on objects.</td>
</tr>
<tr>
<td>engagement_count</td>
<td>Unused. We do not collect engagement metrics on objects.</td>
</tr>
<tr>
<td>language</td>
<td>Language code in ISO 639-1 format.</td>
</tr>
<tr>
<td>id</td>
<td>Unused.</td>
</tr>
<tr>
<td>link</td>
<td>URL to the content.</td>
</tr>
<tr>
<td>published</td>
<td>Date and time this content was created.</td>
</tr>
<tr>
<td>processed</td>
<td>Date and time this content was processed in Lexer.</td>
</tr>
<tr>
<td>_id</td>
<td>Unused.</td>
</tr>
</tbody></table>

<h3 id="paging-results">Paging Results</h3>

<p>In order to return more than 100 matches, you can page through the results using the timestamp of the last object returned. Simply add the <code class="prettyprint">date_ending</code> parameter to your next call using the <code class="prettyprint">data.published</code> time (minus one second so as not to include the same object again) and you will return the next 100 matches.</p>

<p>For example if the 100th object in our result has <code class="prettyprint">&quot;published&quot;: &quot;2018-02-25T04:30:00Z&quot;,</code> then you would add <code class="prettyprint">;date_ending=2018-02-25T04:39:99Z</code> to the end of your request.</p>

<h2 id="terms">Terms</h2>

<p>Let&rsquo;s take a closer look at how we analyse trending words used in the content matching our query. Here we have the Trending Terms and Terms Volume charts. It&rsquo;s important to note that we remove stop words before tokenizing content.</p>

<h3 id="trending-terms">Trending Terms</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18119110</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T05:24:35Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nintendo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">59123</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"switch"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">36034</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#nintendo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">8014</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Our trending terms table is the simplest way to return counts for terms appearing in your query. This endpoint will return the top 100 terms sorted by volume.</p>

<p><img alt="Terms Volume Chart" src="images/content/terms_table.png" /></p>

<h3 id="terms-volume">Terms Volume</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18119109</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T16:17:58+11:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"nintendo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"1520859600000"</span><span class="p">:</span><span class="w"> </span><span class="mi">2131</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1520863200000"</span><span class="p">:</span><span class="w"> </span><span class="mi">2536</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1520866800000"</span><span class="p">:</span><span class="w"> </span><span class="mi">2562</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1520870400000"</span><span class="p">:</span><span class="w"> </span><span class="mi">2626</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1520874000000"</span><span class="p">:</span><span class="w"> </span><span class="mi">2568</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1520942400000"</span><span class="p">:</span><span class="w"> </span><span class="mi">1988</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
      </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"switch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
    </span><span class="s2">"#nintendo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
    </span><span class="s2">"smash"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
    </span><span class="s2">"#nintendoswitch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
    </span><span class="s2">"retweet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
    </span><span class="s2">"enter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
    </span><span class="s2">"giveaway"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
    </span><span class="s2">"super"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
    </span><span class="s2">"join"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Here we&rsquo;re returning an object for each of the top 10 terms for this query. Remember that our time intervals are determined by the range of our query, as mentioned in the Summary section above.</p>

<p>Note that you can ignore the data in the original section.</p>

<p><img alt="Terms Volume Chart" src="images/content/terms_volume.png" /></p>

<h2 id="sources">Sources</h2>

<p>Sources are the social networks or websites the content has come from. We categorise this content in different ways to help you dig deeper. Let&rsquo;s take a closer look at the Top Sources, Sources Volume, Source Types and Source Groups charts.</p>

<h3 id="top-sources">Top Sources</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18041879</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T05:45:18Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">61076</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instagram.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2356</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">357</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Our Top Sources chart provides you with a count of matches for each source. The <code class="prettyprint">term</code> field refers to the source name, and the <code class="prettyprint">count</code> field will provide the number of matches.</p>

<p><img alt="Top Sources" src="images/content/source_top.png" /></p>

<p><br/><br/><br/><br/><br/><br/></p>

<h3 id="sources-volume">Sources Volume</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18148227</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T05:45:18Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"twitter.com"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"1520920800000"</span><span class="p">:</span><span class="w"> </span><span class="mi">2287</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1520924400000"</span><span class="p">:</span><span class="w"> </span><span class="mi">2269</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1520928000000"</span><span class="p">:</span><span class="w"> </span><span class="mi">1919</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1520931600000"</span><span class="p">:</span><span class="w"> </span><span class="mi">2094</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1520935200000"</span><span class="p">:</span><span class="w"> </span><span class="mi">2385</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1521003600000"</span><span class="p">:</span><span class="w"> </span><span class="mi">1729</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
      </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"instagram.com"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
      </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
      </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"facebook.com"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
      </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
      </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="err">}</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>The Source Volume chart will return an object for each source in your result, and will break this into time intervals based on your query length. </p>

<p><img alt="Source Volume" src="images/content/source_volume.png" /></p>

<p>In the chart above your result would return an object for twitter.com, instagram.com and facebook.com. These objects contain a key pair value for each date value and the corresponding volume.</p>

<p>The original and summary values can be ignored for these results.</p>

<p><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/></p>

<h3 id="source-types">Source Types</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18041880</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T05:45:18Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">61076</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="mi">122</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2080</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="mi">113</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">327</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">276</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="mi">112</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Source Types go further into breaking down the source results into their specific content type, for example posts vs comments vs private messages. </p>

<p><img alt="Source Types" src="images/content/source_types.png" /></p>

<p>You will notice that we return numeric IDs for each of the sources. Below is a table you should store as reference for each of the source types in our platform.</p>

<table><thead>
<tr>
<th>ID</th>
<th>Source Type</th>
</tr>
</thead><tbody>
<tr>
<td>102</td>
<td>Twitter Tweet</td>
</tr>
<tr>
<td>103</td>
<td>Twitter Direct Message</td>
</tr>
<tr>
<td>112</td>
<td>Facebook Post</td>
</tr>
<tr>
<td>113</td>
<td>Facebook Comment</td>
</tr>
<tr>
<td>114</td>
<td>Facebook Message</td>
</tr>
<tr>
<td>115</td>
<td>Facebook Dark Post</td>
</tr>
<tr>
<td>116</td>
<td>Facebook Dark Comment</td>
</tr>
<tr>
<td>117</td>
<td>Facebook Review</td>
</tr>
<tr>
<td>118</td>
<td>Facebook Review Comment</td>
</tr>
<tr>
<td>122</td>
<td>Instagram Post</td>
</tr>
<tr>
<td>123</td>
<td>Instagram Comment</td>
</tr>
<tr>
<td>132</td>
<td>News/Blog Post (deprecated)</td>
</tr>
<tr>
<td>152</td>
<td>News Article</td>
</tr>
<tr>
<td>153</td>
<td>News comment</td>
</tr>
<tr>
<td>154</td>
<td>Blog Post</td>
</tr>
<tr>
<td>155</td>
<td>Blog Comment</td>
</tr>
<tr>
<td>156</td>
<td>Forum Post</td>
</tr>
<tr>
<td>157</td>
<td>Forum Comment</td>
</tr>
</tbody></table>

<h3 id="source-groups">Source Groups</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18041881</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T05:51:04Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nintendo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">82</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ign"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rudy.splatoon2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNILADGaming"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">38</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Source groups are used for Facebook and Instagram to query or analyse content that exists on a specific page. For example, if we were to ask for all content on the source group &ldquo;camplexer&rdquo; we return all posts, comments and messages on this page.</p>

<p>This endpoint will return the top 100 source groups for your query.</p>

<p><img alt="Source Groups" src="images/content/source_groups.png" /></p>

<h2 id="authors">Authors</h2>

<p>Authors are the creators of the content matching your query. You can return these authors sorted by influence (follower count) or by engagement (count of objects). We also include the ability to return the top engaged authors in a time series format.</p>

<p>Both of the tables below will return the top 100 authors based on the sorting that is being applied. Each author returned will provide the following details.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter_1317671"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">447828.0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter_1317671"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fullname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Nintendo News"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lexer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyNintendoNews"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://twitter.com/MyNintendoNews/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The most popular Nintendo news Twitter account. Tracking the hottest Nintendo news 24/7 #NintendoSwitch"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pbs.twimg.com/profile_images/976439872117510144/p2eEG3Ts_normal.jpg"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"influence"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.266</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reach"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"inbound"</span><span class="p">:</span><span class="w"> </span><span class="mi">536</span><span class="p">,</span><span class="w">
          </span><span class="s2">"outbound"</span><span class="p">:</span><span class="w"> </span><span class="mi">447818</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data.term</td>
<td>Lexer internal author id</td>
</tr>
<tr>
<td>data.count</td>
<td>Volume of objects created by this author</td>
</tr>
<tr>
<td>data.total</td>
<td>Total number of followers</td>
</tr>
<tr>
<td>original.id</td>
<td>Lexer internal author id</td>
</tr>
<tr>
<td>original.fullname</td>
<td>Display name for this author</td>
</tr>
<tr>
<td>original.username</td>
<td>Username or handle of the author</td>
</tr>
<tr>
<td>original.link</td>
<td>URL to the author&rsquo;s bio</td>
</tr>
<tr>
<td>original.bio</td>
<td>Description from the author&rsquo;s account</td>
</tr>
<tr>
<td>original.avatar</td>
<td>URL to the author&rsquo;s bio</td>
</tr>
<tr>
<td>original.influence</td>
<td>Lexer internal influence score</td>
</tr>
<tr>
<td>original.inbound</td>
<td>Count of following</td>
</tr>
<tr>
<td>original.outbound</td>
<td>Count of followers</td>
</tr>
</tbody></table>

<h3 id="influential-authors">Influential Authors</h3>

<p><img alt="Influential Authors" src="images/content/authors_influential_2.png" /></p>

<h3 id="authors-volume">Authors Volume</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18148228</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-26T03:46:23Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"MyNintendoNews"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"1524628800000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524632400000"</span><span class="p">:</span><span class="w"> </span><span class="mi">71</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524636000000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524639600000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524643200000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524646800000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524650400000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524654000000"</span><span class="p">:</span><span class="w"> </span><span class="mi">74</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524657600000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524661200000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524664800000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524668400000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524672000000"</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524675600000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524679200000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524682800000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524686400000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524690000000"</span><span class="p">:</span><span class="w"> </span><span class="mi">68</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524693600000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524697200000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524700800000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524704400000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524708000000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1524711600000"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"original"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
      </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"author_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyNintendoNews"</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span></code></pre>

<p>You can also return the top authors in a time series format. Here we return a data object for the top 10 authors based on their volume of content matching your query. Similar to other timeseries results, there is a key pair value for the time and count of mentions.</p>

<p><img alt="Top Authors Volume" src="images/content/authors_volume.png" /></p>

<h2 id="locations">Locations</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18042000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-04T00:01:45Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US/CA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4950</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US/VA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1507</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Many authors of the content matching your query will have associated location information. Here we&rsquo;re analysing (when available) the author location for your search. These locations may be at either the state or country level, depending on the location and source of data.</p>

<p>In this result the term is referring to the location code.</p>

<p><img alt="Top Locations" src="images/content/locations.png" /></p>

<h2 id="classifications">Classifications</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18041988</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-03T23:56:09Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2392</span><span class="p">,</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer service"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2004</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2390</span><span class="p">,</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"negative sentiment"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2001</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">465</span><span class="p">,</span><span class="w">
      </span><span class="s2">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product related"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Classifications are custom tags that your team can apply to content. These are typically included in the customer service workflow within Engage. You can then report on the volumes for each classification that match your query. Here we&rsquo;re simply returning the counts for each classification that matches your saved dive.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Definition</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique id for this classification</td>
</tr>
<tr>
<td>term</td>
<td>Name of the classification</td>
</tr>
<tr>
<td>count</td>
<td>Count of objects that have this classification applied</td>
</tr>
</tbody></table>

<p><img alt="Top Classifications" src="images/content/classifications.png" /></p>

          <h1 id="activity">Activity</h1>

<p>Using the Activity API, you can retrieve performance data on your team operating within Lexer Engage. Access insightful metrics such as the number of closed cases, average response time, or your overall NPS score for last month. We’ve made your Activity data accessible so you can run bespoke reports or add them to your custom applications.</p>

<p>Our API is organised into two sections; Get and Post requests. Get requests allow you to access the user, groups and forms information related to your team. These are useful for filtering your reports. Post requests are queries that comprise of particular report types and filter parameters. Reports may be filtered by users, groups, forms or time.</p>

<h2 id="api-tokens">API Tokens</h2>

<p>You will need an API token to access your Activity data. Tokens are managed within the Settings area of the Hub, and require Manager permissions to access. All endpoints require an API token to authenticate your requests.</p>

<h2 id="get-users">GET Users</h2>

<p>Retrieve a list of users that have access to your Lexer account. You can use these user details to filter any of the Activity queries for agent specific metrics. Here we&rsquo;ll describe how you request and interpret this information.</p>
<pre class="highlight plaintext"><code>curl -H "Content-Type: application/json" -H "Auth-Api-Token: 12345678-1234-1234-1234-123456789" -X GET https://api.lexer.io/v1/users
</code></pre>

<p><strong>Endpoint</strong>
<code class="prettyprint">https://api.lexer.io/v1/users</code></p>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@business.io"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Remington"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australia/Sydney"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gmtoffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sign_in_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_sign_in_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-21T06:09:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="mi">456</span><span class="p">,</span><span class="w">
      </span><span class="mi">789</span><span class="p">,</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>user id</td>
<td>integer</td>
</tr>
<tr>
<td>email</td>
<td>email account used to login</td>
<td>string</td>
</tr>
<tr>
<td>first_name</td>
<td>first name of the user</td>
<td>string</td>
</tr>
<tr>
<td>last_name</td>
<td>last name of the user</td>
<td>string</td>
</tr>
<tr>
<td>timezone</td>
<td>timezone location of user</td>
<td>string</td>
</tr>
<tr>
<td>gmtoffset</td>
<td>timezone offset of user</td>
<td>integer</td>
</tr>
<tr>
<td>sign_in_count</td>
<td>count of logins</td>
<td>integer</td>
</tr>
<tr>
<td>last_sign_in_at</td>
<td>date of users last login</td>
<td>string</td>
</tr>
<tr>
<td>archived</td>
<td>archived flag for user</td>
<td>boolean</td>
</tr>
<tr>
<td>groups</td>
<td>groups the user is in</td>
<td>array</td>
</tr>
</tbody></table>

<h2 id="get-groups">GET Groups</h2>

<p>Retrieve a list of groups that exist in your Lexer account. You can use these group details to filter any of the Activity queries for team specific metrics. Here we&rsquo;ll describe how you request and interpret this information.</p>
<pre class="highlight plaintext"><code>curl -H "Content-Type: application/json" -H "Auth-Api-Token: 12345678-1234-1234-1234-123456789" -X GET https://api.lexer.io/v1/groups
</code></pre>

<p><strong>Endpoint</strong>
<code class="prettyprint">https://api.lexer.io/v1/groups</code></p>
<pre class="highlight json"><code><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Social Customer Care"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Social customer care team members"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>group id</td>
<td>integer</td>
</tr>
<tr>
<td>name</td>
<td>name of the group</td>
<td>string</td>
</tr>
<tr>
<td>comment</td>
<td>description of the group</td>
<td>string</td>
</tr>
</tbody></table>

<h2 id="get-forms">GET Forms</h2>

<p>Retrieve a list of forms/surveys that exist in your Lexer account. These include NPS surveys, authentication forms, and competition surveys. You need to specifiy the NPS Survey id when requesting the NPS Summary or NPS Volume data. Here we&rsquo;ll describe how you request and interpret this information.</p>
<pre class="highlight plaintext"><code>curl -H "Content-Type: application/json" -H "Auth-Api-Token: 12345678-1234-1234-1234-123456789" -X GET https://api.lexer.io/v1/forms
</code></pre>

<p><strong>Endpoint</strong>
<code class="prettyprint">https://api.lexer.io/v1/forms</code></p>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NPS Survey"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lexer NPS Survey"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"archived"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-26T21:54:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">123</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"nps"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"form_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d1z1wrkt4y2iqm.cloudfront.net/123455678899876543/1/form"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>group id</td>
<td>integer</td>
</tr>
<tr>
<td>name</td>
<td>name of the form</td>
<td>string</td>
</tr>
<tr>
<td>title</td>
<td>title of the form</td>
<td>string</td>
</tr>
<tr>
<td>archived</td>
<td>archived flag</td>
<td>boolean</td>
</tr>
<tr>
<td>created_at</td>
<td>date this form was created</td>
<td>string</td>
</tr>
<tr>
<td>groups</td>
<td>groups that have access to this form</td>
<td>array</td>
</tr>
<tr>
<td>nps</td>
<td>is this form an NPS survey?</td>
<td>boolean</td>
</tr>
<tr>
<td>form_url</td>
<td>URL to view this form</td>
<td>string</td>
</tr>
</tbody></table>

<h2 id="summary">Summary</h2>

<p><strong>Summary Metrics</strong></p>

<p>Access the summary metrics that are used to power the big number metrics you can see in Activity. This includes the number of objects handled, response count, average response time, agent handle time and a few others.</p>

<p>**</p>

<p>Request: summary</p>
<pre class="highlight json"><code><span class="err">curl</span><span class="w"> </span><span class="err">-H</span><span class="w"> </span><span class="s2">"Content-Type: application/json"</span><span class="w"> </span><span class="err">-H</span><span class="w"> </span><span class="s2">"Auth-Api-Token: 12345678-1234-1234-1234-123456789"</span><span class="w"> </span><span class="err">https://api.lexer.io/v</span><span class="mi">1</span><span class="err">/activity/reports</span><span class="w"> </span><span class="err">-d</span><span class="w"> </span><span class="err">'</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"summary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-01T00:00:00+11:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T23:59:59+11:00"</span><span class="w">
</span><span class="p">}</span><span class="err">'</span><span class="w">
</span></code></pre>

<p><strong>Type:</strong> summary</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"total_volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">7526</span><span class="p">,</span><span class="w">
  </span><span class="s2">"avg_response_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">1315.27098046203</span><span class="p">,</span><span class="w">
  </span><span class="s2">"min_response_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">50.702796</span><span class="p">,</span><span class="w">
  </span><span class="s2">"max_response_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">200663.392234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"avg_action_response_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">509.337687048021</span><span class="p">,</span><span class="w">
  </span><span class="s2">"min_action_response_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.908278</span><span class="p">,</span><span class="w">
  </span><span class="s2">"max_action_response_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">199826.523834</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_responded_to"</span><span class="p">:</span><span class="w"> </span><span class="mi">3582</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broke_sla"</span><span class="p">:</span><span class="w"> </span><span class="mi">166</span><span class="p">,</span><span class="w">
  </span><span class="s2">"broke_action_sla"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
  </span><span class="s2">"avg_response_time_min"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.9211830077005</span><span class="p">,</span><span class="w">
  </span><span class="s2">"avg_action_response_time_min"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.48896145080035</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Summary Volume</strong></p>

<p>Description: daily volume of objects in each workflow state.</p>

<p>Request: states_volume</p>

<p><strong>Classifications (Objects)</strong></p>

<p>Description: classifications and their associated count of objects.</p>

<p>Request: classifications</p>

<p><strong>Response Time</strong></p>

<p>Description: daily average response time.</p>

<p>Request: response_volume</p>

<h2 id="team">Team</h2>

<p><strong>Agent Volume</strong></p>

<p>Description: count of states for objects currently assigned to individual agents.</p>

<p>Request: user_volume</p>

<p><strong>Agent Summary</strong></p>

<p>Description: count of states for objects currently assigned to individual agents.</p>

<p>Request: user_summary</p>

<h2 id="cases">Cases</h2>

<p><strong>Case Summary</strong></p>

<p>Description: </p>

<p>Request: </p>

<p><strong>Case Volume</strong></p>

<p>Description: </p>

<p>Request: </p>

<p><strong>Case Classifications</strong></p>

<p>Description: </p>

<p>Request: </p>

<h2 id="nps">NPS</h2>

<p><strong>NPS Summary</strong></p>

<p>Description: </p>

<p>Request: </p>

<p><strong>NPS Volume</strong></p>

<p>Description: </p>

<p>Request: </p>

<h2 id="errors">Errors</h2>

<h2 id="rate-limiting">Rate Limiting</h2>

<p>The API may rate limit requests made by your application. Our rate limits are managed by an allowed number of requests per time window. A single request could be to retrieve a list of users, or query a particular chart endpoint. </p>

<p>The rate limit is <strong>100 requests per 5 minutes per API Token.</strong></p>

<p>In the case you are rate limited a &ldquo;429 Rate limited exceeded&rdquo; response will be returned.</p>

          <h1 id="chatbot">Chatbot</h1>

<p>Coming soon&hellip;</p>

          <h1 id="identity">Identity</h1>

<p>The Lexer Identity API allows clients and their partners to read and write Identity information to <a href="http://lexer.io">Lexer Identify</a>.</p>

<p>For details on the capability and project specific implementation of <a href="http://lexer.io">Lexer Identify</a> please contact support at <a href="mailto:support@lexer.io">support@lexer.io</a>.</p>

<p>Within the Lexer Identify platform an Identity is a person, brand, place or thing.
Each Identity has thousands of attributes which are generated and updated in real-time through the Lexer Identify platform.</p>

<p>Each Identity is made up of:</p>

<ul>
<li><strong>Links</strong>: Unique, personally identifiable attributes including Email addresses, their Mobile number, Twitter handle, Facebook ID, etc.</li>
<li><strong>Attributes</strong>: An identity could contain thousands of attributes - each one defining their behaviour, facts and engagements, for example: <code class="prettyprint">age</code>, <code class="prettyprint">gender</code>, <code class="prettyprint">favourite food</code>, <code class="prettyprint">spouse</code>, etc.</li>
</ul>

<p>Clients can use the Lexer Identify platform to gather real-time insights on their customers, prospects and competitors by:</p>

<ol>
<li>Linking their proprietary data with one or more identities.</li>
<li>Contributing additional information to enrich the identity.</li>
<li>Consume an identities attributes into internal or 3rd party platforms for activation.</li>
</ol>

<p>All this is done within the Identity API.</p>

<h2 id="configuration">Configuration</h2>

<h3 id="authentication">Authentication</h3>
<pre class="highlight shell"><code><span class="c"># Tokens are used as part of the JSON request body</span>

curl https://identity.api.lexer.io/ <span class="se">\</span>
  -XPOST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'
{
 "api_token": "lexer-api-token",
 "consumer_token": "lexer-consumer-token",
 "contributor_token": "lexer-contrib-token"
}'</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'lexer'</span>

<span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="p">.</span><span class="nf">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">api_token</span> <span class="o">=</span> <span class="s1">'lexer-api-token'</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">contributor_token</span> <span class="o">=</span> <span class="s1">'lexer-contrib-token'</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">consumer_token</span> <span class="o">=</span> <span class="s1">'lexer-consumer-token'</span>
<span class="k">end</span>
</code></pre>

<blockquote>
<p>Make sure to replace the tokens with those provided.</p>
</blockquote>

<p>To access any Lexer API you will require access tokens which will be provided to you. Please <a href="mailto:support@lexer.io">contact support</a> if you have not received these as part of your projects documentation.</p>

<p>There are at least two of three possible tokens which you will need to communicate with the APIs:</p>

<ul>
<li><strong>API Token + Consumer Token</strong>: Read only access to Lexer APIs</li>
<li><strong>API + Contributor Tokens</strong>: Write only access to Lexer APIs</li>
<li><strong>API + Consumer + Contributor Tokens</strong>: Read <em>and</em> Write access to Lexer APIs</li>
</ul>

<aside class="notice">
Tokens reveal business critical or personally sensitive information and therefore should not be shared or made publicly available.

If you believe your tokens have been exposed please contact support@lexer.io immediately.
</aside>

<h2 id="api-token">API Token</h2>

<p>All requests require an <em>API token</em> which will be provided to each party who require access to the Lexer APIs.</p>

<p>An <em>API token</em> alone offers no access to the Lexer APIs. You need at least a <em>Consumer token</em> or <em>Contributor token</em> to make a valid request. Both a <em>Consumer token</em> and <em>Contributor token</em> can be provided in a single request payload for simultaneous read/write access.</p>

<h2 id="consumer-token">Consumer Token</h2>

<p>A <em>Consumer token</em> is supplied if the party requires <strong>read</strong> access to the Lexer APIs.</p>

<p>When created, a <em>Consumer token</em> is locked to a specific <a href="#namespaces">namespace</a> only granting that token access to a specific dataset.</p>

<p>A <em>Consumer token</em> does not allow a party to <strong>write</strong> data to a Lexer APIs. For that a <em>Contributor token</em> is required.</p>

<h2 id="contributor-token">Contributor Token</h2>

<p>A <em>Contributor token</em> is supplied if the party requires <strong>write</strong> access to the Lexer APIs.</p>

<p>When created, a <em>Contributor token</em> is locked to a specific <a href="#namespaces">namespace</a> only granting that token access to a specific dataset.</p>

<aside class="notice">
All contributor requests made to a Lexer API will have limited responses unless a Contributor token (<code>write</code> access) is paired with a Consumer token (<code>read</code> access).
</aside>

<h3 id="endpoints">Endpoints</h3>
<pre class="highlight plaintext"><code>https://identity.api.lexer.io/
</code></pre>

<p>All access to the Lexer Identity API is performed via a single root endpoint. The correct behaviour of the API is determined by various input payload contexts.</p>

<p>All input must be sent via <code class="prettyprint">POST</code> in JSON format.</p>

<h3 id="payload">Payload</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="s2">"api_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc-123-..."</span><span class="p">,</span><span class="w">
 </span><span class="s2">"consumer_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qwe-345-..."</span><span class="p">,</span><span class="w">
 </span><span class="s2">"contributor_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ert-678-..."</span><span class="p">,</span><span class="w">
 </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"987-mnb-..."</span><span class="p">,</span><span class="w">
 </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"joe.blog@mybrand.com"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+61404000000"</span><span class="w">
 </span><span class="p">},</span><span class="w">
 </span><span class="s2">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="s2">"com.mybrand.age"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="p">,</span><span class="w">
   </span><span class="s2">"com.mybrand.car.color"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>All input must be sent via <code class="prettyprint">POST</code> in JSON format to the <a href="#root-endpoint">ROOT endpoint</a> and must contain the following keys:</p>

<table><thead>
<tr>
<th>Key</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>api_token</td>
<td>Yes</td>
<td>The api token as provided by Lexer.</td>
</tr>
<tr>
<td>consumer_token</td>
<td>No</td>
<td>The consumer token as provided by Lexer.</td>
</tr>
<tr>
<td>contributor_token</td>
<td>No</td>
<td>The contributor token as provided by Lexer.</td>
</tr>
<tr>
<td>id</td>
<td>No</td>
<td>A Lexer ID if one is known. Is used over <code class="prettyprint">links</code> if provided.</td>
</tr>
<tr>
<td>links</td>
<td>No</td>
<td>A key-value object of <a href="#links">linkage attributes</a> unique to the Identity - only required if an <code class="prettyprint">id</code> is not present.</td>
</tr>
<tr>
<td>attributes</td>
<td>No</td>
<td>An object of <a href="#attributes">attributes</a> to be written to the Identity - only required if a <code class="prettyprint">contributor_token</code> is present.</td>
</tr>
</tbody></table>

<h3 id="tokens">Tokens</h3>
<pre class="highlight shell"><code>curl https://identity.api.lexer.io/ <span class="se">\</span>
  -XPOST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'
{
 "api_token": "your-api-token",
 "consumer_token": "your-consumer-token",
 "contributor_token": "your-contrib-token"
}'</span>
</code></pre>
<pre class="highlight ruby"><code><span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="p">.</span><span class="nf">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">api_token</span> <span class="o">=</span> <span class="s1">'lexer-api-token'</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">contributor_token</span> <span class="o">=</span> <span class="s1">'lexer-contrib-token'</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">consumer_token</span> <span class="o">=</span> <span class="s1">'lexer-consumer-token'</span>
<span class="k">end</span>
</code></pre>

<p>As outlined in <a href="#access-tokens">Access Tokens</a> a set of tokens are required for all communication with the API.
An API token along with a Contributor and/or a Consumer token is required.</p>

<p>You can validate your tokens by making a <code class="prettyprint">curl</code> request to the API. A <code class="prettyprint">403 Forbidden</code> will be returned if your tokens are invalid.</p>

<p>Contact <a href="mailto:support@lexer.io">support@lexer.io</a> if you require assistance.</p>

<h2 id="namespaces">Namespaces</h2>

<p>Each <em>Consumer Token</em> and <em>Contributor Token</em> is bound to a particular namespace.</p>

<p>A namespace is commonly defined as a reverse domain name. Such as <code class="prettyprint">io.lexer</code>.</p>

<p>Namespaces are used within the platform to:</p>

<ol>
<li><strong>Protect Secure Information</strong>: Tokens can only read from defined namespaces, limiting each party&rsquo;s access to only the attributes permitted.</li>
<li><strong>Enforce Business Policy</strong>: Our clients often have many partners with a complex permission tree. Using namespaces we’re able to allow certain partners to access certain attributes.</li>
</ol>

<p>Each attribute on an Identity has a name within the namespace. For example:</p>

<ul>
<li><code class="prettyprint">io.lexer.age</code> defines the age of the Identity according to Lexer</li>
<li><code class="prettyprint">com.mybrand.age</code> defines the age of the Identity according to MyBrand</li>
<li><code class="prettyprint">com.mybrand.car.colour</code> defines the colour of the Identities car according to MyBrand</li>
</ul>

<p>Please refer to the project&rsquo;s documentation on available namespaces for your implementation.</p>

<h2 id="links">Links</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"joe.blog@mybrand.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"joeblog1983@gmail.com"</span><span class="p">],</span><span class="w">
   </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+61404000000"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"twitter"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
   </span><span class="s2">"facebook"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345678901</span><span class="p">,</span><span class="w">
   </span><span class="s2">"instagram"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">3456789012</span><span class="p">,</span><span class="w"> </span><span class="mi">4567890123</span><span class="p">],</span><span class="w">
   </span><span class="s2">"com.mybrand.customer_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9876543210</span><span class="p">,</span><span class="w">
   </span><span class="s2">"com.mybrand.loyalty_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6789054321</span><span class="w">
 </span><span class="p">},</span><span class="w">
 </span><span class="s2">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Internally the Lexer Identify platform uses links as a lookup for unique identities. They are also used to unify records across a Client&rsquo;s systems,  partner networks and Lexer&rsquo;s public data sources.</p>

<p>In each case the link must be globally unique - meaning the link must belong to just one identity.
An example of this is a mobile number, which in almost every case belongs to just one person, however an email may belong to more than one person - such as an email address provided by an ISP.</p>

<p>If a link is provided to Lexer which belongs to multiple Identities an <a href="#errors">error</a> will be returned.</p>

<p>Currently, Lexer supports the following predefined links:</p>

<ul>
<li><code class="prettyprint">email</code>: the email address of the identity</li>
<li><code class="prettyprint">mobile</code>: the mobile phone number of the identity - written in international format with no spaces i.e. +61404000000</li>
<li><code class="prettyprint">twitter</code>: the Twitter id (not handle) of the identity</li>
<li><code class="prettyprint">facebook</code>: the Facebook id (not username) of the identity</li>
<li><code class="prettyprint">instagram</code>: the Instagram id (not username) of the identity</li>
</ul>

<p>We also allow clients and partners to write their own identifiers to an identity using the namespaces provided.</p>

<p>This allows you to provide your own shared IDs for distribution through the Identify platform.
Common cases include an internal <em>customer id</em>, <em>device IDs</em>, <em>loyalty membership number</em>, etc.</p>

<p>These links should be named using the following formula <code class="prettyprint">&lt;namespace&gt;.&lt;link name&gt;</code> i.e. <code class="prettyprint">com.mybrand.customer_id</code>.</p>

<p>If multiple link values exist for a single identity (i.e. they have more than one email address) then simply provide the multiple values as an array.</p>

<h2 id="attributes">Attributes</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
 </span><span class="s2">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="s2">"com.mybrand.product.names"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"iphone"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ipad"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"com.mybrand.product.versions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"iphone 6+"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ipad air 2"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"com.mybrand.customer_since"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-01-07T18:43:21Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"com.mybrand.annual_spend"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2000.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"com.mybrand.churn_risk"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"low"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>An identity is made up of thousands of attributes defined by Lexer, our clients and partners.</p>

<p>When a contribution is made the changes become available to the client and their partners according to the <a href="#namespaces">namespace</a> policies defined.</p>

<p>An attribute is defined by a:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The name of an attribute. Prefixed by the designated <a href="#namespaces">namespace</a></td>
</tr>
<tr>
<td>value</td>
<td>The value of the attribute. A range of data types are allowed</td>
</tr>
<tr>
<td>confidence</td>
<td>The confidence score given by the contributor</td>
</tr>
</tbody></table>

<h3 id="name">Name</h3>

<p>An attribute name must be created following the formula <code class="prettyprint">&lt;namespace&gt;.&lt;attribute name&gt;</code> i.e. <code class="prettyprint">com.mybrand.products</code>.</p>

<p>When selecting a name for an attribute rely on the following guidelines:</p>

<ul>
<li>A name should only contain <code class="prettyprint">A-Za-z0-9._</code> characters</li>
<li>Should answer the question <code class="prettyprint">What is Sarah&#39;s &lt;attribute name&gt;?</code> or <code class="prettyprint">What are Sarah&#39;s &lt;attribute name&gt;</code>. i.e. <code class="prettyprint">What is Sarah&#39;s age?</code> or <code class="prettyprint">What are Sarah&#39;s upcoming trips?</code></li>
</ul>

<aside class="notice">
The name needs to be globally unique as each contribution is a write to the system - therefore two attributes with the same name can not exist. A contribution on the same name will overwrite the existing attribute&rsquo;s value.
</aside>

<p>Any contributions to attributes with names that conflict with the <a href="#namespaces">namespace</a> policy will be rejected.</p>

<h3 id="values">Values</h3>

<p>The API supports any values supported by the <a href="http://json.org/">JSON</a> specification:</p>

<ul>
<li>Strings: <code class="prettyprint">&quot;hello world&quot;</code></li>
<li>Numbers: <code class="prettyprint">123.45</code></li>
<li>Objects: <code class="prettyprint">{&quot;make&quot;: &quot;Tesla&quot;, &quot;model&quot;: &quot;S&quot;}</code></li>
<li>Arrays: <code class="prettyprint">[&quot;hello&quot;, &quot;world&quot;, 123.45, {&quot;make&quot;: &quot;Tesla&quot;}]</code></li>
</ul>

<p>If you wish to merge existing attribute values with a new value; for example the contents of an <code class="prettyprint">array</code> or <code class="prettyprint">object</code>; then you must first consume from the API and manage the merge yourself.</p>

<aside class="notice">
All contributions overwrite existing values.

Lexer maintains a change log for security and auditing purposes. This log is not capable of restoring data due to issues with contributions.
</aside>

<h3 id="confidence">Confidence</h3>
<pre class="highlight ruby"><code><span class="c1"># The following are the Ruby constants you should use</span>
<span class="c1"># to specify attribute confidence</span>
<span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="o">::</span><span class="no">CONFIDENCE_INFERRED</span>
<span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="o">::</span><span class="no">CONFIDENCE_CALCULATED</span>
<span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="o">::</span><span class="no">CONFIDENCE_PROVIDED</span>
</code></pre>

<p>Each attribute on an identity has a confidence score which is a constant defined by Lexer to help all clients understand the accuracy of the source or method of inference.</p>

<table><thead>
<tr>
<th>Score</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Attribute is of low confidence - the value is most likely generated using aggregate data.</td>
</tr>
<tr>
<td>1</td>
<td>Attribute has been calculated using one or more other attributes using a validated function or equation.</td>
</tr>
<tr>
<td>2</td>
<td>Value is provided via customer or business data. Is considered factual.</td>
</tr>
</tbody></table>

<h2 id="contributions">Contributions</h2>
<pre class="highlight shell"><code>curl https://identity.api.lexer.io/ <span class="se">\</span>
  -XPOST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'
{
 "api_token": "your-api-token",
 "contributor_token": "your-contrib-token",
 "links": {
  "email": "joe.blog@mybrand.com",
  "mobile": "+61404000000"
 },
 "attributes": {
  "com.mybrand.age": {
    "value": 32,
    "confidence": 2
  }
 }
}'</span>

<span class="c"># Result</span>
<span class="c"># {"id": "862d10d5..."}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="p">.</span><span class="nf">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">api_token</span> <span class="o">=</span> <span class="s1">'lexer-api-token'</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">contributor_token</span> <span class="o">=</span> <span class="s1">'lexer-contrib-token'</span>
<span class="k">end</span>

<span class="n">links</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">email: </span><span class="s1">'joe.blog@mybrand.com'</span><span class="p">,</span>
  <span class="ss">mobile: </span><span class="s1">'+61404000000'</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'com.mybrand.age'</span><span class="p">:</span> <span class="p">{</span>
    <span class="ss">value: </span><span class="mi">32</span><span class="p">,</span>
    <span class="ss">confidence: </span><span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="o">::</span><span class="no">CONFIDENCE_PROVIDED</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">identity</span> <span class="o">=</span> <span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="p">.</span><span class="nf">enrich</span><span class="p">(</span><span class="ss">links: </span><span class="n">links</span><span class="p">,</span> <span class="ss">attributes: </span><span class="n">attributes</span><span class="p">)</span>
<span class="c1"># &lt;Lexer::Identity::EnrichedResult @id="862d10d5..."&gt;</span>

<span class="n">identity</span><span class="p">.</span><span class="nf">id</span>
<span class="c1"># 862d10d5...</span>

<span class="n">identity</span><span class="p">.</span><span class="nf">attributes</span>
<span class="c1"># nil</span>
</code></pre>

<p>A contribution is the process of writing links and/or attributes to an new or existing identity.</p>

<p>The presence of a valid <code class="prettyprint">contributor_token</code> in the input payload instructs the API to create or update a unique identity. Generally, two or more links, must be provided in order for an identity to be created.</p>

<p>Unless a consumer token is provided only a Lexer ID will be returned upon a successful contribution to the API, otherwise an <a href="#status-codes">error</a> will be returned.</p>

<h2 id="consumption">Consumption</h2>
<pre class="highlight shell"><code>curl https://identity.api.lexer.io/ <span class="se">\</span>
  -XPOST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'
{
 "api_token": "your-api-token",
 "consumer_token": "your-consumer-token",
 "links": {
  "email": "joe.blog@mybrand.com",
  "mobile": "+61404000000"
 }
}'</span>

<span class="c"># Result</span>
<span class="c"># {"id": "862d10d5...", "attributes": {"com.mybrand.age": {"value": [32], "confidence": 2, "updated_at":"2015-06-23T11:51:16Z"}}}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="p">.</span><span class="nf">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">api_token</span> <span class="o">=</span> <span class="s1">'lexer-api-token'</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">consumer_token</span> <span class="o">=</span> <span class="s1">'lexer-consumer-token'</span>
<span class="k">end</span>

<span class="n">links</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">email: </span><span class="s2">"joe.blog@mybrand.com"</span><span class="p">,</span>
  <span class="ss">mobile: </span><span class="s2">"+61404000000"</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">identity</span> <span class="o">=</span> <span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="p">.</span><span class="nf">enrich</span><span class="p">(</span><span class="ss">links: </span><span class="n">links</span><span class="p">)</span>
<span class="c1"># &lt;Lexer::Identity::EnrichedResult @id="862d10d5...", @attributes={"com.mybrand.age"=&gt;{...}}&gt;</span>

<span class="n">identity</span><span class="p">.</span><span class="nf">id</span>
<span class="c1"># 862d10d5...</span>

<span class="n">identity</span><span class="p">.</span><span class="nf">attributes</span>
<span class="c1"># {"com.mybrand.age"=&gt;{"value"=&gt;[32], "confidence"=&gt;2, "updated_at"=&gt;"2015-06-23T11:56:26Z"}}</span>
</code></pre>

<p>A consumption is the process of reading attributes from an existing identity.</p>

<p>The presence of a valid <code class="prettyprint">consumer_token</code> in the input payload instructs the API to return all attributes made available to the requester via the namespace policies defined on the account.</p>

<p>A <code class="prettyprint">consumer_token</code> can be paired with a <code class="prettyprint">contributor_token</code> which will result in a write then read procedure on the matched identity.</p>

<h2 id="status-codes">Status Codes</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"403 Forbidden"</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>HTTP status codes are returned to indicate the success or failure of a request. In addition, error messages are returned via a JSON object response.</p>

<table><thead>
<tr>
<th>HTTP Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200 OK</td>
<td>An existing Identity was found and returned.</td>
</tr>
<tr>
<td>201 Created</td>
<td>A new Identity has been created. A Lexer ID will be returned.</td>
</tr>
<tr>
<td>400 Bad Request</td>
<td>The payload contained invalid data.</td>
</tr>
<tr>
<td>403 Forbidden</td>
<td>Your request has been denied due to an invalid/missing <code class="prettyprint">api_token</code> and or <code class="prettyprint">contributor_token</code>/<code class="prettyprint">consumer_token</code>.</td>
</tr>
<tr>
<td>404 Not Found</td>
<td>The Lexer ID provided alongside a <code class="prettyprint">consumer_token</code> was not found.</td>
</tr>
<tr>
<td>406 Not Acceptable</td>
<td>There were not enough valid <code class="prettyprint">links</code> provided alongside a <code class="prettyprint">contributor_token</code> for an Identity to be created.</td>
</tr>
<tr>
<td>500 Internal Server Error</td>
<td>An internal server error occurred.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
