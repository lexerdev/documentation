<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Lexer API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","ruby"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://lexer.io'>Find out more about Lexer</a></li>
            <li><a href='http://github.com/tripit/slate'>(Docs Powered by Slate)</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the Lexer API documentation.</p>

<p>We currently offer the following APIs to our clients:</p>

<ul>
<li>Identities: Allowing clients to Contribute and Consume Identity data from the Lexer platform.</li>
</ul>

<p>All of our APIs communicate via HTTPS and JSON data. We offer Ruby Gems for most of our APIs.</p>

<h2 id="fair-use">Fair Use</h2>

<p>Lexer operates a fair use policy on all of its APIs.</p>

<p>Refer to your project&rsquo;s terms of service for details on rate limiting, performance limitations, maintenance windows and SLAs.</p>

<p>For further details please <a href="mailto:support@lexer.io">contact support</a>.</p>

<h1 id="access-tokens">Access Tokens</h1>

<blockquote>
<p>Tokens are used as part of the JSON request body:</p>
</blockquote>
<pre class="highlight shell"><code>curl https://identity.lexer.io/identity <span class="se">\</span>
  -XPOST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'
{
 "api_token": "lexer-api-token",
 "consumer_token": "lexer-consumer-token",
 "contributor_token":"lexer-contrib-token"
}'</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'lexer'</span>

<span class="no">Lexer</span><span class="o">::</span><span class="no">Identity</span><span class="p">.</span><span class="nf">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">api_token</span> <span class="o">=</span> <span class="s1">'lexer-api-token'</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">contributor_token</span> <span class="o">=</span> <span class="s1">'lexer-contrib-token'</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">consumer_token</span> <span class="o">=</span> <span class="s1">'lexer-consumer-token'</span>
<span class="k">end</span>
</code></pre>

<blockquote>
<p>Make sure to replace the tokens with those provided.</p>
</blockquote>

<p>To access any Lexer API you will require unique <code class="prettyprint">access tokens</code> which will be provided to you. Please <a href="mailto:support@lexer.io">contact support</a> if you have not received these.</p>

<p>There are at least two of three possible tokens which you will need to communicate with the APIs:</p>

<ul>
<li>API Token + Consumer Token: Read only access to Lexer APIs</li>
<li>API + Contributor Tokens: Write only access to Lexer APIs</li>
<li>API + Consumer + Contributor Tokens: Read <em>and</em> Write access to Lexer APIs</li>
</ul>

<h3 id="api-token">API Token</h3>

<p>An API token is required to communicate with our API.</p>

<p>All requests require an API token and a unique token will be provided to each party who wishes to communicate with the Lexer APIs.</p>

<p>An API token alone offers no access to the Lexer APIs. You need at least a Consumer or Contributor token to make a valid request. Both a Consumer and Contributor token can be provided in a single request payload for simultaneous read/write access.</p>

<h3 id="consumer-token">Consumer Token</h3>

<p>A Consumer Token is supplied if the party requires <strong>read</strong> access to the Lexer APIs.</p>

<p>When created, a Consumer Token is locked to a specific namespace only granting that token access to a specific dataset.</p>

<p>A Consumer token does not allow a party to <strong>write</strong> data to a Lexer API. For that a Contributor token is required.</p>

<h3 id="contributor-token">Contributor Token</h3>

<p>A Contributor token is supplied if the party requires <strong>write</strong> access to the Lexer APIs.</p>

<p>When created, a Contributor Token is locked to a specific namespace only granting that token access to a specific dataset.</p>

<aside class="notice">
All contributor requests made to a Lexer API will have limited responses unless a Contributor token (<code>write</code> access) is paired with a Consumer token (<code>read</code> access).
</aside>

          <h1 id="identities-api">Identities API</h1>

<p>TODO - identities spiel.</p>

<h3 id="root-endpoint">ROOT Endpoint</h3>

<p>All access to the Lexer Identity API is performed via a single root endpoint. The correct behavior. All input must be securely <code class="prettyprint">POST</code>ed in JSON format to this URL:</p>

<p><code class="prettyprint">https://identity.lexer.io/identity</code></p>

<h3 id="namespaces">Namespaces</h3>

<p>TODO - namespace stuff.</p>

<h2 id="contributions">Contributions</h2>

<p>The presence of a valid <code>contributor_token</code> in the input payload instructs the Identity API to create or update a unique identity. Generally, two or more <em>linkage attributes</em>, or <code class="prettyprint">links</code>, that are unique to an identity, must be provided in order for an identity to be created.</p>

<h3 id="links">Links</h3>

<h3 id="attributes">Attributes</h3>

<h3 id="updates">Updates</h3>

<h2 id="consumption">Consumption</h2>

<h2 id="errors">Errors</h2>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
